---
title: 网络核心概念笔记
tags:
    - 网络
categories:
---

## 要理解的核心概念

    分组交换
    TCP/IP 模型
    socket
    https

    应用层协议和进程相关，面向特定类型的应用。
    传输层协议与进程无关。为进程服务。

## UDP

    “最终目的”：尽快
    不连接协议，想发就发。随时给指定IP和端口发送数据。
    UDP发送消息需要绑定自己的IP和端口，接收消息没有特殊限制，只要有人给自己发送，自己在线，即可接收。
    在网络不好的情况下，丢包严重。
    音频，视频和普通数据，QQ
    没有严格的客户端和服务端的区别

    实现可靠性，参考TCP。
    可靠用户数据包协议：RUDP、RTP、UDT。

    应用程序必须关心IP数据包的长度。如何关心？（路径MTU， 如何确定）不关心会怎么样？（分片）

    校验和

    IP分片

    ICMP不可达差错

    最大用户UDP数据长度，用户进程能处理的长度

UDP影响服务器设计与实现方面的协议特性

    客户IP地址和端口号
    目的IP地址
    UDP输入队列：每个udp端口都有一个有限大小的输入队列（溢出丢包）
    限制本地IP地址：多个服务器以不同地址绑定相同端口-->重用端口选项
    限制远端IP地址：指定只接受特定IP地址的数据包
    （UDP服务器地址绑定：三类（本地限制：远端通配；本地限制：远端限制；本地通配：远端通配））

## TCP

    虚拟连接


## TCP还是UDP

    当数据传输的性能必须让位于数据传输的完整性、可控制性和可靠性时，TCP协议是当然的选择。
    当强调传输性能而不是传输的完整性时，如：音频和多媒体应用，UDP是最好的选择。
    连接过程成为整个流量主体的情况下，UDP也是一个好的选择，如：DNS交换。


TCP协议和UDP协议特性区别总结

1. TCP协议在传送数据段的时候要给段标号；UDP协议不；
2. TCP协议可靠；UDP协议不可靠；
3. TCP协议是面向连接；UDP协议采用无连接；
4. TCP协议负载较高，采用虚电路；UDP采用无连接；
5. TCP协议的发送方要确认接收方是否收到数据段（3次握手协议）；
6. TCP协议采用窗口技术和流控制。
